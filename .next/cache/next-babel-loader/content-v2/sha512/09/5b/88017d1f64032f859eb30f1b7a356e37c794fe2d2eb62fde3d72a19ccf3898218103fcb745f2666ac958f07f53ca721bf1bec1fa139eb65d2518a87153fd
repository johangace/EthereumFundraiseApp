{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/johan/Desktop/kickstart/pages/campaigns/show.js\";\nimport React, { Component } from 'react';\nimport Layout from '../components/Layout';\nimport { Card, Grid } from 'semantic-ui-react';\nimport web3 from '../../ethereum/web3';\nimport ContributeForm from '../components/ContributeForm';\nexport var __N_SSP = true;\nexport default function CampaignShow(props) {\n  var campaignAddress = props.campaignAddress,\n      minimumContribution = props.minimumContribution,\n      balance = props.balance,\n      requestCount = props.requestCount,\n      approversCount = props.approversCount,\n      manager = props.manager;\n\n  function renderCards() {\n    var items = [// {\n    //   header: manager,\n    //   meta: 'Address of Manager',\n    //   description:\n    //     'The manager created this campaign and can create spending/withdraw requests',\n    //   style: { overflowWrap: 'break-word' },\n    // },\n    {\n      header: web3.utils.fromWei(minimumContribution, 'ether'),\n      meta: 'Minimum contribution (ETH)',\n      description: \"You must contribute at least \".concat(minimumContribution, \" ETH to become an approver \")\n    }, {\n      header: web3.utils.fromWei(balance, 'ether'),\n      meta: 'Campaign Balance (ETH)',\n      description: 'Remaining Balance of the campaign'\n    }, {\n      header: requestCount,\n      meta: 'Number of Requests ',\n      description: 'A request tries to withdraw money from the contract. Requests must be approved by approvers.'\n    }, {\n      header: approversCount,\n      meta: 'Number of Approvers',\n      description: 'Number of people who donated to the campaign and can approve a request.'\n    }];\n    return /*#__PURE__*/_jsxDEV(Card.Group, {\n      items: items,\n      center: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\" Campaign \", campaignAddress, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      children: [/*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 10,\n        children: [' ', /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\" Campaign Manager: \", manager]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), renderCards(), ' ']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid.Column, {\n        width: 2,\n        children: [' ', /*#__PURE__*/_jsxDEV(ContributeForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_c = CampaignShow;\n\nvar _c;\n\n$RefreshReg$(_c, \"CampaignShow\");","map":{"version":3,"sources":["/Users/johan/Desktop/kickstart/pages/campaigns/show.js"],"names":["React","Component","Layout","Card","Grid","web3","ContributeForm","CampaignShow","props","campaignAddress","minimumContribution","balance","requestCount","approversCount","manager","renderCards","items","header","utils","fromWei","meta","description"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAEA,SAASC,IAAT,EAAeC,IAAf,QAA2B,mBAA3B;AACA,OAAOC,IAAP,MAAiB,qBAAjB;AACA,OAAOC,cAAP,MAA2B,8BAA3B;;AAqBA,eAAe,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAAA,MAExCC,eAFwC,GAQtCD,KARsC,CAExCC,eAFwC;AAAA,MAGxCC,mBAHwC,GAQtCF,KARsC,CAGxCE,mBAHwC;AAAA,MAIxCC,OAJwC,GAQtCH,KARsC,CAIxCG,OAJwC;AAAA,MAKxCC,YALwC,GAQtCJ,KARsC,CAKxCI,YALwC;AAAA,MAMxCC,cANwC,GAQtCL,KARsC,CAMxCK,cANwC;AAAA,MAOxCC,OAPwC,GAQtCN,KARsC,CAOxCM,OAPwC;;AAS1C,WAASC,WAAT,GAAuB;AACrB,QAAMC,KAAK,GAAG,CACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEC,MAAAA,MAAM,EAAEZ,IAAI,CAACa,KAAL,CAAWC,OAAX,CAAmBT,mBAAnB,EAAwC,OAAxC,CADV;AAEEU,MAAAA,IAAI,EAAE,4BAFR;AAGEC,MAAAA,WAAW,yCAAkCX,mBAAlC;AAHb,KARY,EAaZ;AACEO,MAAAA,MAAM,EAAEZ,IAAI,CAACa,KAAL,CAAWC,OAAX,CAAmBR,OAAnB,EAA4B,OAA5B,CADV;AAEES,MAAAA,IAAI,EAAE,wBAFR;AAGEC,MAAAA,WAAW,EAAE;AAHf,KAbY,EAkBZ;AACEJ,MAAAA,MAAM,EAAEL,YADV;AAEEQ,MAAAA,IAAI,EAAE,qBAFR;AAGEC,MAAAA,WAAW,EACT;AAJJ,KAlBY,EAwBZ;AACEJ,MAAAA,MAAM,EAAEJ,cADV;AAEEO,MAAAA,IAAI,EAAE,qBAFR;AAGEC,MAAAA,WAAW,EACT;AAJJ,KAxBY,CAAd;AA+BA,wBAAO,QAAC,IAAD,CAAM,KAAN;AAAY,MAAA,KAAK,EAAEL,KAAnB;AAA0B,MAAA,MAAM;AAAhC;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,sBACE,QAAC,MAAD;AAAA,4BACE;AAAA,+BAAeP,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAGE,QAAC,IAAD;AAAA,8BACE,QAAC,IAAD,CAAM,MAAN;AAAa,QAAA,KAAK,EAAE,EAApB;AAAA,mBACG,GADH,eAEE;AAAA,4CAAwBK,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,EAGGC,WAAW,EAHd,EAGkB,GAHlB;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAOE,QAAC,IAAD,CAAM,MAAN;AAAa,QAAA,KAAK,EAAE,CAApB;AAAA,mBACG,GADH,eAEE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cAPF;AAAA;AAAA;AAAA;AAAA;AAAA,YAHF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkBD;KA9DuBR,Y","sourcesContent":["import React, { Component } from 'react'\nimport Layout from '../components/Layout'\nimport Campaign from '../../ethereum/campaign'\nimport { Card, Grid } from 'semantic-ui-react'\nimport web3 from '../../ethereum/web3'\nimport ContributeForm from '../components/ContributeForm'\nexport const getServerSideProps = async (context) => {\n  const campaignAddress = context.query.address\n  // query the data based on the address and return as props\n  const campaign = Campaign(campaignAddress)\n\n  const summary = await campaign.methods.getSummary().call()\n\n  return {\n    props: {\n      campaignAddress,\n      minimumContribution: summary[0],\n      balance: summary[0],\n      requestCount: summary[2],\n      approversCount: summary[3],\n      manager: summary[4],\n    },\n    // queried data\n  }\n}\n\nexport default function CampaignShow(props) {\n  const {\n    campaignAddress,\n    minimumContribution,\n    balance,\n    requestCount,\n    approversCount,\n    manager,\n  } = props\n  function renderCards() {\n    const items = [\n      // {\n      //   header: manager,\n      //   meta: 'Address of Manager',\n      //   description:\n      //     'The manager created this campaign and can create spending/withdraw requests',\n      //   style: { overflowWrap: 'break-word' },\n      // },\n      {\n        header: web3.utils.fromWei(minimumContribution, 'ether'),\n        meta: 'Minimum contribution (ETH)',\n        description: `You must contribute at least ${minimumContribution} ETH to become an approver `,\n      },\n      {\n        header: web3.utils.fromWei(balance, 'ether'),\n        meta: 'Campaign Balance (ETH)',\n        description: 'Remaining Balance of the campaign',\n      },\n      {\n        header: requestCount,\n        meta: 'Number of Requests ',\n        description:\n          'A request tries to withdraw money from the contract. Requests must be approved by approvers.',\n      },\n      {\n        header: approversCount,\n        meta: 'Number of Approvers',\n        description:\n          'Number of people who donated to the campaign and can approve a request.',\n      },\n    ]\n    return <Card.Group items={items} center />\n  }\n\n  return (\n    <Layout>\n      <h1> Campaign {campaignAddress} </h1>\n\n      <Grid>\n        <Grid.Column width={10}>\n          {' '}\n          <h4> Campaign Manager: {manager}</h4>\n          {renderCards()}{' '}\n        </Grid.Column>\n\n        <Grid.Column width={2}>\n          {' '}\n          <ContributeForm />\n        </Grid.Column>\n      </Grid>\n    </Layout>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}